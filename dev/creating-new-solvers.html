<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating new solvers · WavKinS.jl</title><meta name="title" content="Creating new solvers · WavKinS.jl"/><meta property="og:title" content="Creating new solvers · WavKinS.jl"/><meta property="twitter:title" content="Creating new solvers · WavKinS.jl"/><meta name="description" content="Documentation for WavKinS.jl."/><meta property="og:description" content="Documentation for WavKinS.jl."/><meta property="twitter:description" content="Documentation for WavKinS.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="WavKinS.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">WavKinS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Quick start</span><ul><li><a class="tocitem" href="quick_start/installation.html">Installing WavKinS</a></li><li><a class="tocitem" href="quick_start/collisional_integral_tutorial.html">Computing a collisional integral</a></li><li><a class="tocitem" href="quick_start/running_tutorial.html">Running an example</a></li><li><a class="tocitem" href="quick_start/diagnostics_tutorial.html">Adding a diagnostic</a></li></ul></li><li><a class="tocitem" href="basics.html">Basics</a></li><li><span class="tocitem">Physical systems</span><ul><li><a class="tocitem" href="physical_systems/Acoustic.html">Acoustic</a></li><li><a class="tocitem" href="physical_systems/Bogoliubov.html">Bogoliubov</a></li><li><a class="tocitem" href="physical_systems/NLS.html">NLS</a></li><li><a class="tocitem" href="physical_systems/MMT.html">MMT</a></li><li><a class="tocitem" href="physical_systems/Petviashvilli.html">Petviashvilli</a></li><li><a class="tocitem" href="physical_systems/Smoluchowski.html">Smoluchowski</a></li><li><a class="tocitem" href="physical_systems/Stratified.html">Stratified</a></li><li><a class="tocitem" href="physical_systems/generalities.html">Generalities</a></li><li><a class="tocitem" href="physical_systems/TestTimeStepping.html">TestTimeStepping</a></li></ul></li><li><a class="tocitem" href="numerical-methods.html">Numerical methods</a></li><li><a class="tocitem" href="multithreading.html">Multithreading</a></li><li><a class="tocitem" href="plots.html">Plots</a></li><li class="is-active"><a class="tocitem" href="creating-new-solvers.html">Creating new solvers</a><ul class="internal"><li><a class="tocitem" href="#The-minimal-steps-to-implement-a-new-physical-systems-are"><span>The minimal steps to implement a new physical systems are</span></a></li><li><a class="tocitem" href="#Some-general-advice-for-good-practice"><span>Some general advice for good practice</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="creating-new-solvers.html">Creating new solvers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="creating-new-solvers.html">Creating new solvers</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="How-to-create-a-new-solver"><a class="docs-heading-anchor" href="#How-to-create-a-new-solver">How to create a new solver</a><a id="How-to-create-a-new-solver-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-create-a-new-solver" title="Permalink"></a></h1><h2 id="The-minimal-steps-to-implement-a-new-physical-systems-are"><a class="docs-heading-anchor" href="#The-minimal-steps-to-implement-a-new-physical-systems-are">The minimal steps to implement a new physical systems are</a><a id="The-minimal-steps-to-implement-a-new-physical-systems-are-1"></a><a class="docs-heading-anchor-permalink" href="#The-minimal-steps-to-implement-a-new-physical-systems-are" title="Permalink"></a></h2><ol><li>If none of the structures defined in <code>/src/WavKinS_structures.jl</code> can be used in your problem, create a new one. In this case, most of the routines should probably be adapted.</li><li>Create a new folder in <code>/src/physical_systems/</code>. It must contain:</li></ol><ul><li><code>basics.jl</code>: definitions for your physical system (interaction coefficients, dispersion relation, parameterization of the resonant manifold, etc.).</li><li><code>structure.jl</code>: fields and other variables needed for a typical simulation of your new system (diagnostics, working fields, wave-action, etc.).</li><li><code>collision_integral.jl</code>: defines the collision integral <code>St_k!(Run)</code>.</li><li><code>special.jl</code>: special diagnostics are defined here (optional).  </li></ul><p>If you think you&#39;re working on something generic (i.e. that can be used for other physical systems), maybe you should write it in different parts of the code (see code structure in <code>index.html</code>). If you&#39;re willing to work on a variation of an implemented physical system, you must write it in the same folder (e.g. <code>Acoustic2D</code> and <code>Acoustic3D</code> are both in <code>/src/physical_systems/Acoustic/</code>) for consistency.</p><h2 id="Some-general-advice-for-good-practice"><a class="docs-heading-anchor" href="#Some-general-advice-for-good-practice">Some general advice for good practice</a><a id="Some-general-advice-for-good-practice-1"></a><a class="docs-heading-anchor-permalink" href="#Some-general-advice-for-good-practice" title="Permalink"></a></h2><ol><li>Keep consistent names of fields inside all structures. In doing so, existing routines can be used with your new simulation structures. For example, time-stepping routines in <code>/src/time_stepping/WavKinS_time_steping.jl</code> are generic.</li><li>Write test files to check what you have implemented for your physical system (parameterization of the resonant manifold, conservation of the dynamical invariant(s) by the collisional integral, ...) in the spirit of <code>/run/tests/physical_systems/tests_Acoustic2D.jl</code> and <code>/run/tests/physical_systems/tests_Petviashvilli.jl</code>.</li><li>If you have implemented more general tools (integration, interpolation, time stepping, ...), it should also be tested (see, e.g., <code>/run/tests/tests_integration_interpolation.jl</code> and <code>/run/tests/tests_misc.jl</code>) and documented.</li><li>Please give a short description of your physical system, how you compute the collision integral, and autodocumentation of methods and structures in <code>docs/src/physical_systems/</code>. You should add a link to this documentation in <a href="index.html#Currently-available-systems"><code>Currently available systems</code></a> subsection.</li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="plots.html">« Plots</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 27 November 2024 11:37">Wednesday 27 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
